/**
 * Copyright (c) 2015-present, Zippy Technologies
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

@import '../../variables.scss';
@import './variables.scss';
@import '../../../../ArrowScroller/style/theme/default/index.scss';

.#{$ZIPPY_MENU_ROOT_CLASS}.#{$ZIPPY_MENU_ROOT_CLASS}--theme-#{$ZIPPY_MENU_THEME_NAME} {
  font-size: $ZIPPY_MENU_FONT_SIZE;
  background-color: $ZIPPY_MENU_BACKGROUND;
  border: 1px solid $ZIPPY_MENU_BORDER_COLOR;
  color: $ZIPPY_MENU_COLOR;
  fill: $ZIPPY_MENU_COLOR;

  &.#{$ZIPPY_MENU_ROOT_CLASS}--shadow {
    box-shadow: $ZIPPY_MENU_SHADOW;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl {
    box-shadow: $ZIPPY_MENU_SHADOW_RTL;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--depth-1 {
    background-color: $ZIPPY_MENU_LEVEL_1_BACKGROUND;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--depth-2 {
    background-color: $ZIPPY_MENU_LEVEL_2_BACKGROUND;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--depth-3 {
    background-color: $ZIPPY_MENU_LEVEL_3_BACKGROUND;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}__submenu {
    min-width: 130px;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused.#{$ZIPPY_MENU_ROOT_CLASS}__row--over {
    position: relative;

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
      position: relative;

      &:before {
        position: absolute;
        content: ' ';
        top: 1px;
        bottom: 1px;
        left: 0;
        right: 0;
        border-top: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
        border-bottom: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
      }

      &:first-child {
        &:before {
          left: 1px;
          border-left: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
        }
      }

      &:last-child {
        &:before {
          right: 1px;
          border-right: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
        }
      }
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused {
    position: relative;

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
      position: relative;

      // border 2
      &:before {
        position: absolute;
        content: ' ';
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border-top: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
        border-bottom: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
      }

      &:first-child {
        &:before {
          left: 0;
          border-left: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
        }
      }

      &:last-child {
        &:before {
          right: 0;
          border-right: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
        }
      }
    }
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl {
    .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused.#{$ZIPPY_MENU_ROOT_CLASS}__row--over {
      .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
        // border 1
        &:before {
          position: absolute;
          content: ' ';
          top: 1px;
          bottom: 1px;
          left: 0;
          right: 0;
          border-top: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
          border-bottom: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
        }

        &:first-child {
          &:before {
            right: 1px;
            border-right: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
          }
        }

        &:last-child {
          &:before {
            left: 1px;
            border-left: $ZIPPY_MENU_ITEM_FOCUSED_OVER_BORDER;
          }
        }
      }
    }

    .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused {
      .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
        // border 2
        &:before {
          right: -1px;
          left: -1px;
          border-top: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
          border-bottom: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
        }

        &:first-child,
        &:last-child {
          &:before {
            right: 0;
            left: 0;
          }
        }

        &:first-child {
          &:before {
            border-left: 0;
            border-right: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
          }
        }

        &:last-child {
          &:before {
            border-right: 0;
            border-left: $ZIPPY_MENU_ITEM_FOCUSED_BORDER;
          }
        }
      }
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--checked {
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--over {
    color: $ZIPPY_MENU-ITEM_OVER_COLOR;
    fill: $ZIPPY_MENU-ITEM_OVER_COLOR;
    background-color: $ZIPPY_MENU_HOVER_COLOR;

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
      background-color: $ZIPPY_MENU_HOVER_COLOR;
    }

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell--secondaryLabel {
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--expanded {
    // not applied in this case
    .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--active {
    color: $ZIPPY_MENU_ITEM_ACTIVE_COLOR;
    fill: $ZIPPY_MENU_ITEM_ACTIVE_COLOR;
    background-color: $ZIPPY_MENU_ITEM_ACTIVE_BACKGROUND;

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
      background-color: $ZIPPY_MENU_HOVER_COLOR;
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--disabled {
    color: $ZIPPY_MENU_ITEM_DISABLED_COLOR;
    fill: $ZIPPY_MENU_ITEM_DISABLED_COLOR;
    cursor: not-allowed;

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell--secondaryLabel {
      color: $ZIPPY_MENU_ITEM_DISABLED_COLOR;
    }

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell--has-expander {
      .#{$ZIPPY_MENU_ROOT_CLASS}__expander {
        fill: $ZIPPY_MENU_ITEM_DISABLED_COLOR;
      }
    }

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--icon {
      svg {
        fill: $ZIPPY_MENU_ICON_DISABLED_COLOR;
      }
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
    padding: $ZIPPY_MENU_CELL_PADDING;
    height: $ZIPPY_MENU_CELL_HEIGHT;

    &:first-child {
    }

    &:last-child {
      padding-right: $ZIPPY_MENU_FLAST_CELL_PADDING_RIGHT;
    }
  }

  // rtl
  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
    &:first-child {
      padding-right: $ZIPPY_MENU_FLAST_CELL_PADDING_RIGHT;
      padding-left: 0;
    }

    &:last-child {
      padding-right: 0;
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell--has-input {
    padding-right: 0;
    padding-left: 2px;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell--radio {
    padding-right: 3px;
    fill: $ZIPPY_MENU_ICON_COLOR;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell--checkbox {
    padding-top: 2px;
    width: 20px;
    fill: $ZIPPY_MENU_ICON_COLOR;

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell__input {
      position: relative;
      top: -2px;
    }

    .#{$ZIPPY_MENU_ROOT_CLASS}__cell__input--browser-native {
      top: 0;
    }
  }

  // rtl
  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl
  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--has-input {
    padding-left: 0;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl
  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--radio {
    padding-left: 3px;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell--secondaryLabel {
    color: $ZIPPY_MENU_DESCRIPTION_COLOR;
    padding-right: 6px;
    text-align: end;
  }

  // rtl
  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl
  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--secondaryLabel {
    padding-left: 6px;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--icon {
    padding-right: 3px;

    svg {
      vertical-align: middle;
      fill: $ZIPPY_MENU_ICON_COLOR;
    }
  }

  // rtl
  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl
  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--icon {
    padding-right: 12px;
    padding-left: 3px;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--has-expander {
    padding-right: 0;
    text-align: right;
    text-align: end;
    fill: $ZIPPY_MENU_EXPANDER_FILL;
  }

  // rtl
  &.#{$ZIPPY_MENU_ROOT_CLASS}--rtl
  .#{$ZIPPY_MENU_ROOT_CLASS}__cell.#{$ZIPPY_MENU_ROOT_CLASS}__cell--has-expander {
    padding-left: 0;
    fill: $ZIPPY_MENU_EXPANDER_FILL;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__menu-separator {
    background-color: $ZIPPY_MENU_SEPARATOR_COLOR;

    td {
      padding: $ZIPPY_MENU_MENU_SEPARATOR_PADDING 0;
    }
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__menu-separator__tool {
    background: $ZIPPY_MENU_SEPARATOR_TOOL_BACKGROUND;
    height: $ZIPPY_MENU_SEPARATOR_TOOL_SIZE;
  }

  .#{$ZIPPY_MENU_ROOT_CLASS}__row--title {
    font-weight: 600;
    cursor: initial;
  }

  &.#{$ZIPPY_MENU_ROOT_CLASS}--mobile {
    .#{$ZIPPY_ARROW_SCROLLER_ROOT_CLASS}__arrow {
      height: $ZIPPY_MENU_MOBILE_SCROLL_ARROW_HEIGHT;
    }
  }

  // arrows
  .#{$ZIPPY_ARROW_SCROLLER_ROOT_CLASS}__arrow {
    background: $ZIPPY_MENU_SCROLL_ARROW_BACKGROUND;
    height: $ZIPPY_MENU_SCROLL_ARROW_HEIGHT;
    font-size: 9px;
    border: $ZIPPY_MENU_SCROLL_ARROW_BORDER;
    border-right: 0;
    border-left: 0;

    svg {
      fill: $ZIPPY_MENU_SCRLL_ARROW_FILL;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translateX(-50%) translateY(-50%);
      height: 20px;
      width: 20px;
    }

    &:hover {
    }

    &--direction-up {
      border-top: 0;
    }
  }

  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused {
      color: $ZIPPY_MENU-ITEM_OVER_COLOR;
      fill: $ZIPPY_MENU-ITEM_OVER_COLOR;
      background-color: $ZIPPY_MENU_ITEM_OVER_BACKGROUND;
      border: $ZIPPY_MENU_ITEM_OVER_BORDER;

      .#{$ZIPPY_MENU_ROOT_CLASS}__cell {
        background-color: $ZIPPY_MENU_ITEM_OVER_BACKGROUND;
      }
    }

    .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused
    .#{$ZIPPY_MENU_ROOT_CLASS}__cell:before,
    .#{$ZIPPY_MENU_ROOT_CLASS}__row--focused.#{$ZIPPY_MENU_ROOT_CLASS}__row--over
    .#{$ZIPPY_MENU_ROOT_CLASS}__cell:before {
      content: none;
    } /* IE11 */
  }
}
